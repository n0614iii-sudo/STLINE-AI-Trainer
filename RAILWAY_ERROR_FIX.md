# 🔧 Railwayエラー解決ガイド

## 🔴 エラー内容

```
Application failed to respond
```

このエラーは、アプリケーションが起動していないか、エラーが発生している可能性があります。

## 🔍 原因の確認

### ステップ1: デプロイログを確認

Railwayのダッシュボードで：

1. **Logs** タブを開く
2. エラーメッセージを確認
3. アプリケーションが起動しているか確認

### ステップ2: デプロイログを確認

1. **Deployments** タブを開く
2. 最新のデプロイメントをクリック
3. **View logs** をクリック
4. エラーメッセージを確認

## ✅ よくある問題と解決方法

### 問題1: ポートが正しく設定されていない

**確認方法:**
- Settings → Networking でポートが5000に設定されているか確認

**解決方法:**
1. Settings → Networking
2. ポートを5000に設定
3. 再デプロイ

### 問題2: 環境変数が設定されていない

**確認方法:**
- Settings → Variables で以下が設定されているか確認：
  - `GEMINI_API_KEY`
  - `STREAM_API_KEY`
  - `STREAM_API_SECRET`

**解決方法:**
1. Settings → Variables
2. 必要な環境変数を追加
3. 再デプロイ

### 問題3: アプリケーションが起動していない

**確認方法:**
- Logsタブで起動エラーを確認

**解決方法:**
- エラーメッセージに基づいて修正

### 問題4: 依存関係のエラー

**確認方法:**
- Build Logsでエラーを確認

**解決方法:**
- requirements.txtを確認
- 必要なパッケージが含まれているか確認

## 🚀 修正手順

### ステップ1: ログを確認

1. Railwayのダッシュボードで **Logs** タブを開く
2. エラーメッセージをコピー
3. エラーの内容を確認

### ステップ2: 環境変数を確認

1. Settings → Variables
2. 以下が設定されているか確認：
   - `GEMINI_API_KEY`
   - `STREAM_API_KEY`
   - `STREAM_API_SECRET`

### ステップ3: ポートを確認

1. Settings → Networking
2. ポートが5000に設定されているか確認

### ステップ4: 再デプロイ

1. Deploymentsタブを開く
2. 最新のデプロイメントで **Redeploy** をクリック
3. ビルドが成功するまで待つ

## 📋 確認チェックリスト

- [ ] デプロイログを確認
- [ ] 環境変数が設定されている
- [ ] ポートが5000に設定されている
- [ ] ビルドが成功している
- [ ] アプリケーションが起動している

## 🔧 アプリケーションの修正（必要に応じて）

もし環境変数の読み込みに問題がある場合、`gym_dashboard.py`を修正：

```python
import os
from dotenv import load_dotenv

# 環境変数を読み込む
load_dotenv()

# ポートを環境変数から取得（Railwayが自動的に設定）
port = int(os.getenv('PORT', 5000))

# アプリケーションを起動
app.run(debug=False, host='0.0.0.0', port=port)
```

## 🎯 次のステップ

1. **Logsタブでエラーを確認**
2. **エラーメッセージを共有**（必要に応じて）
3. **修正を適用**
4. **再デプロイ**

## 📝 まとめ

1. **Logsタブでエラーを確認**
2. **環境変数とポートを確認**
3. **必要に応じて修正**
4. **再デプロイ**

エラーメッセージを確認して、具体的な問題を特定しましょう！



